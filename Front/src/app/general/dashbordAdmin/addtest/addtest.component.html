<div class="card" >
  <h5 class="card-header">Ajouter Test</h5>
  <div class="card-body">
    <form [formGroup]="testForm">
      <div class="form-group">
        <label class="col-form-label" for="titre">Titre</label>
        <input type="text" formControlName="titre" class="form-control is-invalid">
        <div *ngIf="testForm?.controls['titre']?.hasError('required')" style="color: red"> Required titre</div>
      </div>
      <div class="form-group">
        <label class="col-form-label" for="descreption">Descreption</label>
        <input type="text" formControlName="descreption" class="form-control is-invalid">
        <div *ngIf="testForm?.controls['descreption']?.hasError('required')" style="color: red"> Required
          descreption
          1</div>
      </div>
      <div class="form-group">
        <label class="col-form-label" for="type">Type</label>
        <select formControlName="type" class="form-control is-invalid">
          <option value="HTML5">HTML5</option>
          <option value="JavaScript">JavaScript</option>
          <option value="Bootstrap">Bootstrap</option>
          <option value="Angular 7">Angular 7</option>
          <option value="Node JS">Node JS</option>
          <option value="J2EE">J2EE</option>      
        </select>
        <div *ngIf="testForm?.controls['type']?.hasError('required')" style="color: red"> Required type</div>
      </div>
      <div class="form-group">
        <label class="col-form-label" for="dure">Duree(Minutes)</label>
        <input type="number" formControlName="dure" class="form-control is-invalid">
        <div *ngIf="testForm?.controls['dure']?.hasError('required')" style="color: red"> Required dure</div>
      </div>
      <div class="form-group">
        <label class="col-form-label" for="niveau">Niveau</label>

        <select formControlName="niveau" class="form-control is-invalid">
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
        </select>
        <div *ngIf="testForm?.controls['niveau']?.hasError('required')" style="color: red"> Required niveau</div>
      </div>
      <div>
        <div formArrayName="questions" *ngFor="let q of testForm.controls['questions'].controls; let i=index">
          <div [formGroupName]="i">
            <div class="form-group">
              <label for="question">Question : </label>
              <input type="text" class="form-control is-invalid" formControlName="question" placeholder="Question"
                value="First name" required>
              <div *ngIf="q.controls.question.hasError('required')" style="color: red"> Required
                question</div>
            </div>
            <div class="form-group">
              <label class="col-form-label" for="choix1">Option 1</label>
              <input type="text" formControlName="choix1" class="form-control is-invalid">
              <div *ngIf="q.controls['choix1']?.hasError('required')" style="color: red"> Required option
                1</div>
            </div>
            <div class="form-group">
              <label class="col-form-label" for="choix2">Option 2</label>
              <input type="text" formControlName="choix2" class="form-control is-invalid">
              <div *ngIf="q.controls['choix2']?.hasError('required')" style="color: red"> Required option
                2</div>
            </div>
            <div class="form-group">
              <label class="col-form-label" for="choix3">Option 3</label>
              <input type="text" formControlName="choix3" class="form-control is-invalid">
              <div *ngIf="q.controls['choix3']?.hasError('required')" style="color: red"> Required option
                3</div>
            </div>
            <div class="form-group">
              <label class="col-form-label" for="choix4">Option 4</label>
              <input type="text" formControlName="choix4" class="form-control is-invalid">
              <div *ngIf="q.controls['choix4']?.hasError('required')" style="color: red"> Required option
                4</div>
            </div>
            <div class="form-group">
              <label class="col-form-label" for="choix4">Reponse</label>
              <input type="text" formControlName="reponse" class="form-control is-invalid">
              <div *ngIf="q.controls['reponse']?.hasError('required')" style="color: red"> Required
                reponse</div>
              <div
                *ngIf="q.value.reponse !== q.value.choix1 && q.value.reponse !== q.value.choix2 && q.value.reponse !== q.value.choix3 && q.value.reponse !== q.value.choix4 "
                style="color: red">Not the same
              </div>
            </div>
          </div>
          <div class="form-group">
            <button type="submit" (click)="deleteQuestion()" class="btn btn-rounded btn-danger">-

              Supprimer</button>
          </div>
        </div>
        <div class="form-group">
          <button type="submit" (click)="addQuestion()" class="btn btn-rounded btn-info">+
            Question</button>
        </div>
      </div>
      <div class="form-group">
        <button type="submit" [disabled]="!testForm?.valid" (click)="ajouterTest()"
          class="btn btn-rounded btn-success"> + Ajouter</button>
      </div>
    </form>
  </div>
</div>